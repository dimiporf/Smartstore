@model Product  
    @{
    Layout = "_AdminLayout";
    }
    

<!DOCTYPE html>
<html>
<head>
    <title>AutoComplete Example</title>
</head>
<body>
    <!-- Textbox for user input -->
    <input type="text" id="autoCompleteTextBox" />

    <!-- Container for autocomplete suggestions -->
    <div id="autoCompleteSuggestions"></div>

    <script>
        $(document).ready(function () {
            var selectedIndex = -1;

            // Attach input event listener to the textbox
            $('#autoCompleteTextBox').on('input', function () {
                var userInput = $(this).val();

                // Send the user input to the server for autocomplete suggestions
                $.getJSON('/api/autoComplete', { input: userInput })
                    .done(function (data) {
                        // Update UI with autocomplete suggestions
                        updateAutocompleteSuggestions(data);
                    })
                    .fail(function (jqXHR, textStatus, errorThrown) {
                        console.error('Error fetching autocomplete suggestions:', textStatus, errorThrown);
                    });
            });

            // Function to update autocomplete suggestions in the UI
            function updateAutocompleteSuggestions(suggestions) {
                // Clear previous suggestions
                $('#autoCompleteSuggestions').empty();

                // Add new suggestions to the dropdown list
                suggestions.forEach(function (suggestion, index) {
                    $('#autoCompleteSuggestions').append('<div class="suggestion" data-index="' + index + '">' + suggestion + '</div>');
                });

                // Attach keydown event listener for navigation
                $(document).on('keydown', function (e) {
                    if (e.keyCode === 38) { // Up arrow
                        navigateSuggestions(-1);
                    } else if (e.keyCode === 40) { // Down arrow
                        navigateSuggestions(1);
                    }
                });
            }

            // Function to navigate through suggestions
            function navigateSuggestions(direction) {
                var suggestions = $('.suggestion');
                if (suggestions.length > 0) {
                    selectedIndex += direction;
                    if (selectedIndex < 0) {
                        selectedIndex = suggestions.length - 1;
                    } else if (selectedIndex >= suggestions.length) {
                        selectedIndex = 0;
                    }
                    suggestions.removeClass('selected');
                    var selectedSuggestion = suggestions.eq(selectedIndex);
                    selectedSuggestion.addClass('selected');
                    $('#autoCompleteTextBox').val(selectedSuggestion.text());
                }
            }
        });
    </script>
</body>
</html>
